<!DOCTYPE html>

<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grupo TARAHUMARA: Generador de firmas</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond&family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.10/clipboard.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dom-to-image@2.6.0/dist/dom-to-image.min.js"></script>

    <script>
        function addname() {
            var name = document.getElementById("name");
            var s = name.value;
            document.getElementById('name1').innerHTML = s;
        }

        function addjobtitle() {
            var jobtitle = document.getElementById("jobtitle");
            var s = jobtitle.value;
            document.getElementById('jobtitle1').innerHTML = s;
        }

        function addmobileno() {
            var mobileno = document.getElementById("mobileno");
            var s = mobileno.value;
            document.getElementById('mobileno-input').innerHTML = s;
        }

        function addemailaddress() {
            var email = document.getElementById("email");
            var s = email.value;
            document.getElementById('email-input').innerHTML = s;
            document.getElementById('email-input').href = "mailto:" + s;
        }

        function addTelMovil() {
            var cel = document.getElementById("cel");
            var s = cel.value;
            document.getElementById('cel-input').innerHTML = s;
            document.getElementById('cel-input').href = "celto:" + s;
        }

        $(function () {
            new Clipboard('#copy-button');
        });
    </script>
</head>

<body class="grid-container">
    <header class="header">
        <div id="template">
            <div class="titulo">FIRMAS GRUPO TARAHUMARA</div>
        </div>
    </header>

    <aside class="sidebar">
        <form>
            <label>Tu nombre:</label>
            <input id="name" type="text" name="name" placeholder="Nombre Completo" onKeyup="addname()" required>
            <hr>

            <label>Cargo:</label>
            <input id="jobtitle" type="text" name="jobtitle" placeholder="Cargo" onKeyup="addjobtitle()" required>
            <hr>

            <label>Ext:</label>
            <input id="mobileno" type="text" name="mobileno" placeholder="XXXX" onKeyup="addmobileno()" required>
            <hr>

            <label>Mail:</label>
            <input id="email" type="email" name="email" placeholder="tumail@grupotarahumara.com.mx" onKeyup="addemailaddress()" required>
            <hr>

            <label>Tel Movil:</label>
            <input id="cel" type="text" name="cel" placeholder="33XXXXXXXX" onKeyup="addTelMovil()" required>
        </form>
    </aside>

    <article class="main">
        <!-- <div id="info2"> 
                
            <span class="contact-info">
    
                <a href="cel:" id="cel-input"></a><br></span>

        </div> -->

        <div id="copy">
            
            <!-- <style>
                @import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap');
            </style> -->

            <table class="datos">
                <tr>
                    <td>
                        <br>
                        <span
                            style="text-align: right; font-size: 160px; color: white; text-transform: uppercase"
                            id="name1"></span><br>
                            &nbsp;<span
                            style="font: size 108px;color:white; text-transform: uppercase;"
                            id="jobtitle1"></span><br>
                          
                    </td>
                </tr>
                </table>

                <!-- <script>
                    document.getElementById('captureButton').addEventListener('click', function () {
                        const captureArea = document.getElementById('copy');
                        html2canvas(captureArea).then(function (canvas) {
                            const downloadLink = document.createElement('a');
                            downloadLink.href = canvas.toDataURL('image/png');
                            downloadLink.download = 'captured_area.png';
                            downloadLink.click();
                        });
                    });
                </script> -->
                    <!-- <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script> -->
                    <div style="font-size: 80px; color: white; margin-left: 2250px;">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 280px;">
                            <!-- Teléfono -->
                            <div style="flex: 1; text-align: left; margin-right: 50px;">
                                Tel: 33 3001 4500
                            </div>
                            
                            <!-- Extensión -->
                            <div style="flex: 1; text-align: left; margin-left: -60px;">
                                Ext: <span id="mobileno-input" style="display: inline-block; min-width: 100px;">---</span>
                            </div>
                            
                            <!-- Celular -->
                            <div style="flex: 1; text-align: left; margin-right: 380px;">
                                Cel: <span id="cel-input" style="display: inline-block; min-width: 150px;">---</span>
                            </div>
                        </div>
                        
                        <!-- Correo electrónico -->
                        <div style="margin-top: 90px; color: white; font-size: 65px; text-align: left;">
                            <span id="email-input" style="display: inline-block; min-width: 300px;">---</span>
                        </div>
                    </div>
                    
                </div>
                        
                        
                        
                        <nav>
                            <ul class="menu-horizontal">
                                
                                <li><a href="selectara.html">FIRMA SELECTARA</a></li>
                            </ul>
                        </nav>
                        
    </article>

    <footer class="footer">
        <button type="button" id="captureButton">
            Descarga la firma
        </button>
            
    </footer>

    <script>
        document.getElementById('captureButton').addEventListener('click', function () {
            const captureArea = document.getElementById('copy');
            domtoimage.toPng(captureArea)
                .then(function (dataUrl) {
                    // Crea una imagen con la URL generada
                    var img = new Image();
                    img.src = dataUrl;
                    //document.body.appendChild(img); 

                    // Crear un enlace de descarga para la imagen capturada
                    const downloadLink = document.createElement('a');
                    downloadLink.href = dataUrl;
                    downloadLink.download = 'captured_area.png';
                    downloadLink.click();
                })
                .catch(function (error) {
                    console.error('Error capturando el área:', error);
                });
        });
    </script>
</body>
</html>
